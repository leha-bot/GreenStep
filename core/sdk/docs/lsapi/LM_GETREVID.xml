<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="lsapi.xslt"?>

<message>
  <name>LM_GETREVID</name>
  <description>
    LiteStep sends this message to request version information from modules.
  </description>
  <parameters>
    <parameter>
      <name>wParam</name>
      <description>
        This parameter should be ignored. It is currently set to
        <const>0</const>. Old LiteStep builds may set it to <const>1</const>.
      </description>
      <type>WPARAM</type>
    </parameter>
    <parameter>
      <name>lParam</name>
      <description>
        Pointer (<type>LPTSTR</type>) to a buffer to be filled with the version
        string. Modules should assume a buffer size of <const>64</const>.
      </description>
      <type>LPARAM</type>
    </parameter>
  </parameters>
  <return>
    <description>
      If a module handles this message, it should return the number of
      characters copied to the buffer pointed to by <param>lParam</param>.
    </description>
  </return>
  <remarks>
    <p>
      To receive this message, modules need to register for it by using
      <msg>LM_REGISTERMESSAGE</msg>.
    </p>
    <p>
      It is recommended that all modules implement this.
    </p>
    <p>
      This message is generated by passing <const>ELD_REVIDS</const> to
      <fn>EnumLSData</fn>. This is typically done by LiteStep when it populates
      the "Revision IDs" part of the about box.
    </p>
  </remarks>
  <example>
    <blockcode>
case LM_GETREVID:
{
    LPCTSTR pszVersion = TEXT("Module 1.0");
    
    LPTSTR pBuffer = (LPTSTR)lParam;

    _tcsncpy(pBuffer, 64, pszVersion);
    
    return _tcslen(pszVersion);
}</blockcode>
  </example>
  <see-also>
    <msg>LM_REGISTERMESSAGE</msg>
  </see-also>
</message>